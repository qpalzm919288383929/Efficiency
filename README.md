Efficiency是一个多功能Minecraft服务器插件，提供传送系统、区块显示和玩家商店功能，支持MC版本1.12-1.21.8。
之前总是想做一个比较完整的服务器优化插件，鸽了好久终于写完了awa

功能总览

首先声明，这是根指令！别直接输入！
传送系统/cs
区块显示 /qk
商店系统 /ef
帮助系统 /ef help

传送系统

功能描述
- 向其他玩家发送传送请求
- GUI界面确认机制
- 30秒请求超时保护
- 全服广播通知

使用方法

发送传送请求
/cs <玩家名>

<玩家名> 目标玩家的游戏ID

示例:
/cs Steve
/cs Alex

处理传送请求
当收到传送请求时，会自动打开确认界面。

聊天栏提示
- 发送者: 已向玩家 Steve 发送传送请求！
- 接收者: 玩家 Alex 向你发送了传送请求！
- 接受后: 玩家 Alex 传送到了 Steve 的位置
- 拒绝后: 玩家 Steve 拒绝了 Alex 的传送请求`

权限节点
efficiency.teleport: true # 默认开启
区块显示系统

功能描述
- 实时显示玩家所在区块坐标
- 动作栏提示（兼容1.12+）
- 跨区块移动时自动更新

使用方法

开启区块显示 /qk open
关闭区块显示 /qk stop

其他可用命令
/qk start # 同 open
/qk enable # 同 open
/qk close # 同 stop
/qk disable # 同 stop

显示格式:当前区块: §aX:12 Z:-5
触发条件:
- 玩家移动到新的区块时
- X坐标或Z坐标的区块发生变化

权限节点
efficiency.chunkshow: true # 默认开启

商店系统

功能描述
- 玩家间物品交易
- 钻石作为交易货币
- GUI商店界面
- 7天商品过期机制
- 自动库存管理

使用方法

卖出物品
/ef shop out <价格> <数量>

说明:
- <价格>- 每个物品的价格（钻石），必须大于0
- <数量> - 卖出的物品数量，必须大于0

前置条件:
- 手持要卖出的物品
- 拥有足够数量的该物品

示例:
/ef shop out 5 32 # 以5钻石/个卖出32个手中物品
/ef shop out 1.5 64 # 以1.5钻石/个卖出64个手中物品

成功提示:
成功上架物品！价格: 5钻石/个 §a数量: 32 个

购买物品
/ef shop in <商品序号> <数量>

参数说明:
- <商品序号> - 商店列表中的序号（从1开始）
- <数量> - 购买数量（可选，默认为1）

前置条件:
- 拥有足够的钻石
- 商品有足够库存

示例:
/ef shop in 1 # 购买第1个商品的1个
/ef shop in 3 16 # 购买第3个商品的16个

查看商店列表
/ef shop list
打开商店GUI界面，显示所有上架商品。

- 最多显示54个商品
- 显示卖家、价格、库存信息
- 支持快速购买操作

购买流程示例
1. 使用/ef shop list打开商店
2. 查看商品信息：
1. 钻石
卖家: Steve
价格: §b5 钻石/个
库存: §a16/32 个
总价: §b80 钻石
左键购买指定数量
右键购买全部剩余数量
3. 左键点击：关闭GUI，提示输入数量
4. 执行：/ef shop in 1 8 购买8个
5. 成功提示：玩家成功购买 8 个 钻石！花费: 40 钻石（好生草的例子hhh）

商店管理特性

库存检查
- 自动检查卖家物品数量
- 自动检查买家钻石数量
- 背包空间不足时物品掉落

交易通知
- 买家：`§a成功购买 8 个 钻石！花费: 40 钻石`
- 卖家（在线时）：`§a你的 钻石 已售出 8 个，获得 40 钻石！`

数据持久化
- 商品数据保存至 `plugins/Efficiency/shop.yml`
- 服务器重启后数据不丢失
- 自动清理7天前的过期商品

权限节点
efficiency.shop: true # 默认开启

帮助系统

查看完整帮助
/ef help

输出内容
=== Efficiency插件帮助 ===
/ef shop out <价格> <数量> - 卖出手中物品
/ef shop in <序号> [数量] - 购买商店物品
/ef shop list - 查看商店列表
/cs <玩家名> - 发送传送请求
/qk open - 开启区块显示
/qk stop - 关闭区块显示

配置系统

配置文件位置
plugins/Efficiency/config.yml

配置选项说明

yaml

传送请求设置
teleport:
request-timeout: 30 # 请求超时时间（秒）
cooldown: 10 # 冷却时间（秒）

区块显示设置
chunk-show:
update-interval: 1 # 更新间隔（刻）
show-actionbar: true # 是否在动作栏显示

商店设置
shop:
expiration-days: 7 # 商品过期天数
max-items-per-player: 50 # 每个玩家最大上架物品数量

消息设置
messages:
request-sent: "&e已向玩家 {target} 发送传送请求！"
request-received: "&e玩家 {requester} 向你发送了传送请求！"
request-accepted: "&a你的传送请求已被 {accepter} 接受！"
request-denied: "&c你的传送请求已被 {denier} 拒绝！"
request-expired: "&c传送请求已过期！"
shop-item-added: "&a成功上架物品！价格: &b{price} 钻石/个 &a数量: {quantity} 个"
shop-item-bought: "&a成功购买 {quantity} 个 {item}！花费: {totalPrice} 钻石"

权限系统

权限节点总览

| 权限节点 | 描述 | 默认权限 |
|---------|------|----------|
| `efficiency.teleport` | 使用传送功能 | true |
| `efficiency.chunkshow` | 使用区块显示 | true |
| `efficiency.shop` | 使用商店系统 | true |
| `efficiency.*` | 所有权限 | true |

权限配置示例
# 给特定玩家组所有权限
permissions:
group.vip:
efficiency.*: true

# 给普通玩家基础权限
group.default:
efficiency.teleport: true
efficiency.shop: true

故障排除

常见问题及解决方案

传送相关问题
1. 传送请求未收到
- 检查目标玩家是否在线
- 检查请求是否过期（30秒限制）
- 检查网络连接

2. 无法发送传送请求
- 检查权限：`efficiency.teleport`
- 检查命令格式：`/cs <玩家名>`
- 不能向自己发送请求

商店相关问题
1. 无法卖出物品
- 检查是否手持物品
- 检查物品数量是否足够
- 检查价格和数量是否为有效数字

2. 无法购买物品
- 检查钻石是否足够
- 检查商品库存是否充足
- 检查商品序号是否正确
- 检查背包空间

3. 商店GUI不显示
- 检查权限：`efficiency.shop`
- 检查是否有商品上架
- 重新登录尝试

区块显示问题
1. 区块坐标不显示
- 检查是否已开启：`/qk open`
- 检查权限：`efficiency.chunkshow`
- 尝试移动到其他区块

错误信息说明

| 错误信息 | 原因 | 解决方案 |
|---------|------|----------|
| `§c只有玩家才能使用此命令！` | 控制台执行玩家命令 | 使用玩家身份执行 |
| `§c玩家不在线或不存在！` | 目标玩家离线 | 检查玩家ID和在线状态 |
| `§c你不能向自己发送传送请求！` | 向自己发送请求 | 选择其他玩家 |
| `§c传送请求已过期！` | 请求超过30秒 | 重新发送请求 |
| `§c请手持要卖出的物品！` | 空手使用卖出命令 | 手持要卖出的物品 |
| `§c你只有 X 个该物品！` | 物品数量不足 | 收集更多物品 |
| `§c钻石不足！` | 钻石数量不够 | 获取更多钻石 |
| `§c商品序号无效！` | 序号超出范围 | 使用正确序号 |
| `§c该商品已售罄！` | 商品库存为0 | 选择其他商品 |

数据存储

文件结构
plugins/Efficiency/
├── config.yml # 主配置文件
├── shop.yml # 商店数据文件
└── logs/ # 日志目录（若启用）

神说要有备份
- 定期备份 `shop.yml` 文件
- 重启服务器前确保数据已保存
- 避免直接编辑数据文件

更新日志
v1.0.0
- 发布源代码进行开源
- 自定义传送系统
- 实时区块显示
- 完整商店系统
- 多版本兼容（1.12-1.21.8）

技术支持

如有问题或建议，请联系我！！！
QQ号2622786669
